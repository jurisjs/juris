<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
    <script src="../src/juris-cssextractor.js"></script>
    <script src="../src/juris.0.9.0.js"></script>
</head>
<body>
<div id="app"></div>
	<script>
		function ResponsiveNav({ items }, { getState, setState }) {
  return {
    nav: {
      style: {
        // Container queries for responsive design
        containerType: 'inline-size',
        
        // Base layout
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-between',
        padding: 'clamp(0.5rem, 2vw, 1rem) clamp(1rem, 4vw, 2rem)',
        
        // Modern styling with backdrop
        background: () => {
          const opacity = getState('nav.transparency', 0.95);
          return `color-mix(in srgb, red ${opacity * 100}%, transparent)`;
        },
        backdropFilter: 'blur(12px) saturate(1.2)',
        borderBottom: '2px solid color-mix(in srgb, var(--border-color) 60%, transparent)',
        position: 'sticky',
        top: '10px',
        zIndex: 1000,
        insetInlineStart: 0,
        insetInlineEnd: 0,
        paddingTop: 'max(1rem, env(safe-area-inset-top))',
        '@container (max-width: 768px)': {
          flexDirection: 'column',
          gap: '1rem',
          padding: '1rem'
        },
        '--border-color': () => getState('theme.borderColor', '#e2e8f0'),
        '--nav-height': 'clamp(60px, 8vh, 80px)'
      },
			onclick:()=> setState('theme.accentColor', 'green'),
      children: [
        {
          div: {
            style: ()=> {
							return {
								display: 'flex',
								alignItems: 'center',
								gap: 'clamp(1rem, 3cqw, 2rem)',
								
								'@container (max-width: 768px)': {
									width: '100%',
									justifyContent: 'center'
								}
							}
            },
            children: items.map((item, index) => ({
              a: {
                href: item.href,
                style: {
                  // Typography
                  fontSize: 'clamp(0.875rem, 2.5cqw, 1rem)',
                  fontWeight: '500',
                  textDecoration: 'none',
                  
                  // Spacing
                  padding: '0.5rem 1rem',
                  borderRadius: '0.5rem',
                  
                  // Interactive states with modern selectors
                  color: () => getState('theme.linkColor', '#4a5568'),
                  background: 'transparent',
                  transition: 'all 0.2s ease',
                  '&:hover': {
											background: 'blue',
											color:'var(--link-hover-color)!',
											transform: 'translateY(-1px)'										
                  },
                  
                  '&:focus-visible': {
                    outline: '2px solid var(--accent-color)',
                    outlineOffset: '5px'
                  },
                  
                  // Active state styling
                  '&[aria-current="page"]': {
                    background: 'var(--accent-color)',
                    color: 'white',
                    fontWeight: '600'
                  },
                  '--link-hover-color':()=>getState('theme.linkHoverColor', 'red'),                  
                  '--accent-color': () => getState('theme.accentColor', '#fd51bf')
                },
                text: item.label,
                'aria-current': () => getState('router.currentPath') === item.href ? 'page' : undefined
              }
            }))
          }
        }
      ]
    }
  };
}

const juris = new Juris({
	features: {
		cssExtract: CSSExtractor
	},
	states:{
		router:{
			currentPath:'google.com',		
		},
		theme:{
			accentColor:'pink',
			linkColor:'#FFF',
			borderColor:'blue',
			linkHoverColor:'orange'
		},
		nav:{
			transparency:0.80
		}
	},
	components:{
		ResponsiveNav
	},
	layout:{ResponsiveNav:{
		items:[{href:'google.com',label:'google.com'},{href:'yeahoo.com',label:'yeahoo.com'}]
	}}
})
juris.render();
	</script>
</body>
</html>